{
    "production": {
        "definitions": [
            {
                "class": "Zend\\Http\\Request"
            },
            {
                "class": "mwop\\Mvc\\Router",
                "methods":[
                    {
                        "name": "addRoutes",
                        "args": [
                            {
                                "home": {
                                    "class": "mwop\\Mvc\\Router\\StaticRoute",
                                    "params": [
                                        "/",
                                        {"controller": "page", "page": "home"}
                                    ]
                                },
                                "comics": {
                                    "class": "mwop\\Mvc\\Router\\StaticRoute",
                                    "params": [
                                        "/comics",
                                        {"controller": "page", "page": "comics"}
                                    ]
                                },
                                "resume": {
                                    "class": "mwop\\Mvc\\Router\\StaticRoute",
                                    "params": [
                                        "/resume",
                                        {"controller": "page", "page": "resume"}
                                    ]
                                },
                                "blog-create-form": {
                                    "class": "mwop\\Mvc\\Router\\StaticRoute",
                                    "params": [
                                        "/blog/admin/create",
                                        {"controller": "blog", "action": "create"}
                                    ]
                                },
                                "blog-tag": {
                                    "params": [
                                        "#^/(?P<controller>blog)/(?P<action>tag)/(?P<tag>[^/]+)#",
                                        "/blog/tag/{tag}"
                                    ]
                                },
                                "blog-year": {
                                    "params": [
                                        "#^/(?P<controller>blog)/(?P<action>year)/(?P<year>\\d{4})#",
                                        "/blog/year/{year}"
                                    ]
                                },
                                "blog-month": {
                                    "params": [
                                        "#^/(?P<controller>blog)/(?P<action>month)/(?P<year>\\d{4})/(?P<month>\\d{2})#",
                                        "/blog/month/{year}/{month}"
                                    ]
                                },
                                "blog-day": {
                                    "params": [
                                        "#^/(?P<controller>blog)/(?P<action>day)/(?P<year>\\d{4})/(?P<month>\\d{2})/(?P<day>\\d{2})#",
                                        "/blog/day/{year}/{month}/{day}"
                                    ]
                                },
                                "blog": {
                                    "params": [
                                        "#^/(?P<controller>blog)(/(?P<id>[^/]+))?#",
                                        "/blog/{id}"
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "class": "Mongo"
            },
            {
                "class": "MongoDB",
                "params": {
                    "conn": {"__reference": "mongocxn"},
                    "name": "mwoptest"
                },
                "param_map": {
                    "conn": 0,
                    "name": 1
                }
            },
            {
                "class": "MongoCollection",
                "params": {
                    "db": {"__reference": "MongoDB"},
                    "name": "entries"
                },
                "param_map": {
                    "db": 0,
                    "name": 1
                }
            },
            {
                "class": "mwop\\DataSource\\Mongo",
                "params": {
                    "options": {"__reference": "mongo-collection-entries"}
                },
                "param_map": {
                    "options": 0
                }
            },
            {
                "class": "mwop\\Resource\\EntryResource",
                "methods": [
                    {
                        "name": "setDataSource",
                        "args": [ {"__reference" : "data-source"} ]
                    },
                    {
                        "name": "setCollectionClass",
                        "args": ["mwop\\Resource\\MongoCollection"]
                    }
                ]
            },
            {
                "class": "mwop\\Mvc\\Presentation\\HelperBroker",
                "methods": [
                    {
                        "name": "register",
                        "args": ["router", {"__referece" : "router"}]
                    },
                    {
                        "name": "register",
                        "args": ["request", {"__referece" : "request"}]
                    }
                ]
            },
            {
                "class": "Layout",
                "methods": [
                    {
                        "name": "helper",
                        "args": [{"__reference" : "presentation-broker"}]
                    }
                ]
            },
            {
                "class": "Blog\\Controller\\Entry",
                "methods": [
                    {
                        "name": "resource",
                        "args": [{"__reference": "resource-entry"}]
                    },
                    {
                        "name": "setPresentation",
                        "args": [{"__reference": "presentation"}]
                    }
                ]
            }
        ],
        "aliases": {
            "router": "mwop\\Mvc\\Router",
            "request": "Zend\\Http\\Request",
            "presentation-broker": "mwop\\Mvc\\Presentation\\HelperBroker",
            "presentation": "Layout",
            "mongocxn": "Mongo",
            "mongo-collection-entries": "MongoCollection",
            "data-source": "mwop\\DataSource\\Mongo",
            "resource-entry": "mwop\\Resource\\EntryResource"
        }
    },
    "staging": {
        "_extends": "production"
    },
    "testing": {
        "_extends": "production"
    },
    "development": {
        "_extends": "production"
    }
}
