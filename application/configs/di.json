{
    "production": {
        "definitions": [
            {
                "class": "mwop\\Mvc\\Router",
                "methods":[
                    {
                        "name": "addRoutes",
                        "args": [
                            {
                                "home": {
                                    "class": "mwop\\Mvc\\Router\\StaticRoute",
                                    "params": [
                                        "/",
                                        {"controller": "page", "page": "home"}
                                    ]
                                },
                                "comics": {
                                    "class": "mwop\\Mvc\\Router\\StaticRoute",
                                    "params": [
                                        "/comics",
                                        {"controller": "page", "page": "comics"}
                                    ]
                                },
                                "blog-create-form": {
                                    "class": "mwop\\Mvc\\Router\\StaticRoute",
                                    "params": [
                                        "/blog/admin/create",
                                        {"controller": "blog", "action": "create"}
                                    ]
                                },
                                "blog": {
                                    "params": [
                                        "#^/(?P<controller>blog)(/(?P<id>[^/]+))?#",
                                        "/blog/{id}"
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "class": "Mongo"
            },
            {
                "class": "MongoDB",
                "params": {
                    "conn": {"__reference": "mongocxn"},
                    "name": "mwoptest"
                },
                "param_map": {
                    "conn": 0,
                    "name": 1
                }
            },
            {
                "class": "MongoCollection",
                "params": {
                    "db": {"__reference": "MongoDB"},
                    "name": "entries"
                },
                "param_map": {
                    "db": 0,
                    "name": 1
                }
            },
            {
                "class": "mwop\\DataSource\\Mongo",
                "params": {
                    "options": {"__reference": "mongo-collection-entries"}
                },
                "param_map": {
                    "options": 0
                }
            },
            {
                "class": "mwop\\Resource\\EntryResource",
                "methods": [
                    {
                        "name": "setDataSource",
                        "args": [ {"__reference" : "data-source"} ]
                    },
                    {
                        "name": "setCollectionClass",
                        "args": ["mwop\\Resource\\MongoCollection"]
                    }
                ]
            },
            {
                "class": "Blog\\Controller\\Entry",
                "methods": [
                    {
                        "name": "resource",
                        "args": [{"__reference": "resource-entry"}]
                    }
                ]
            }
        ],
        "aliases": {
            "router": "mwop\\Mvc\\Router",
            "mongocxn": "Mongo",
            "mongo-collection-entries": "MongoCollection",
            "data-source": "mwop\\DataSource\\Mongo",
            "resource-entry": "mwop\\Resource\\EntryResource"
        }
    },
    "staging": {
        "_extends": "production"
    },
    "testing": {
        "_extends": "production"
    },
    "development": {
        "_extends": "production"
    }
}
